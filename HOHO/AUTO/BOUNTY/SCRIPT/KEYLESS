repeat wait() until game:IsLoaded() and game.Players.LocalPlayer

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local TweenService = game:GetService("TweenService")

getgenv().AutoBounty = {
    Enabled = true,
    SelectTeam = "Pirate",
    SafeZone = {Enabled = true, HealthThreshold = 25, HealUntil = 80},
    AutoAttack = true,
    AttackDistance = 10, 
    BypassTeleport = true,
    NoStun = true,
    InvisibleFromKen = true,
    AutoClick = true,
    Abilities = {
        Melee = {Z = true, X = true, C = true},
        Sword = {Z = true, X = true},
        Gun = {Z = true, X = true},
        Fruit = {Z = true, X = true, C = true, V = false, F = true},
    },
    ChatAfterKill = {
        Enabled = true,
        Messages = {"GG!", "ez", "L", "Better luck next time!"}
    }
}

function TeleportToPlayer(targetPlayer)
    if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0)
    end
end

function AttackTarget(target)
    if not target or not target.Character or not target.Character:FindFirstChild("HumanoidRootPart") then return end
    while getgenv().AutoBounty.Enabled and target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") do
        TeleportToPlayer(target)
        if getgenv().AutoBounty.AutoAttack then
            local args = {[1] = target.Character}
            game:GetService("ReplicatedStorage").Remotes:FindFirstChild("Damage"):FireServer(unpack(args))
        end
        wait(0.1)
    end
end

function GetBestBountyTarget()
    local highestBounty = 0
    local bestTarget = nil
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player:FindFirstChild("leaderstats") and player.leaderstats:FindFirstChild("Bounty") then
            local bounty = player.leaderstats.Bounty.Value
            if bounty > highestBounty then
                highestBounty = bounty
                bestTarget = player
            end
        end
    end
    return bestTarget
end

spawn(function()
    while getgenv().AutoBounty.Enabled do
        local target = GetBestBountyTarget()
        if target then
            AttackTarget(target)
        end
        wait(5)
    end
end)
